---
title: 简单请求与复杂请求
date: 2020-07-24 17:10:10
tags: 
    - Ajax
    - axios
---

### 简单请求与复杂请求

`这两种请求的区别主要在于是否会触发cors预检请求`

####简单请求
1、请求方法

+ GET
+ POST
+ HEAD

2、不得人为设置该集合之外的其他首部字段。该集合为：

+ Accept
+ Accept-Language
+ Content-Language
+ Content-Type

3、Content-Type 的值仅限于下列三者之一：

+ text/plain 
+ multipart/form-data  文件上传时要使用的数据类型
+ application/x-www-form-urlencoded 最常见的post的数据类型，也是表单提交的数据类型，jquery的ajax默认也是这个

4、请求中的任意XMLHttpRequestUpload 对象均没有注册任何事件监听器；XMLHttpRequestUpload 对象可以使用 XMLHttpRequest.upload 属性访问

5、请求中没有使用 ReadableStream 对象

####复杂请求
不符合简单请求的就是复杂请求

+ 常用情况： 用Authorization请求携带用户请求首部字段，不符合第二点，就触发了复杂请求

#### 补充

#####HTTP请求的方法

HTTP/1.1协议中共定义了八种方法（有时也叫“动作”），来表明Request-URL指定的资源不同的操作方式

HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。

HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法

`1、OPTIONS`

返回服务器针对特定资源所支持的HTTP请求方法，也可以利用向web服务器发送‘*’的请求来测试服务器的功能性

`2、HEAD`

向服务器索与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以再不必传输整个响应内容的情况下，就可以获取包含在响应小消息头中的元信息。

`3、GET`

向特定的资源发出请求。注意：GET方法不应当被用于产生“副作用”的操作中，例如在Web Application中，其中一个原因是GET可能会被网络蜘蛛等随意访问。Loadrunner中对应get请求函数：web_link和web_url

`4、POST`

向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。 Loadrunner中对应POST请求函数：web_submit_data,web_submit_form

`5、PUT`

向指定资源位置上传其最新内容

`6、DELETE`

请求服务器删除Request-URL所标识的资源

`7、TRACE`

回显服务器收到的请求，主要用于测试或诊断

`8、CONNECT`

HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。

注意：

1）方法名称是区分大小写的，当某个请求所针对的资源不支持对应的请求方法的时候，服务器应当返回状态码405（Mothod Not Allowed）；当服务器不认识或者不支持对应的请求方法时，应返回状态码501（Not Implemented）。

2）HTTP服务器至少应该实现GET和HEAD/POST方法，其他方法都是可选的，此外除上述方法，特定的HTTP服务器支持扩展自定义的方法。

##### axios请求快捷方式

- axios.request(config)
- axios.get(url[, config])
- axios.delete(url[, config])
- axios.head(url[, config])
- axios.options(url[, config])
- axios.post(url[, data[, config]])
- axios.put(url[, data[, config]])
- axios.patch(url[, data[, config]])