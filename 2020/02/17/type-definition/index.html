<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>类型定义文件(*.d.ts) | Peanut</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="类型定义文件在 TypeScript 中，我们可以很简单的，在代码编写中定义类型： 12345678910interface IBaseModel &amp;#123;  say(keys: string[] | null): object&amp;#125;class User implements IBaseModel &amp;#123;  name: string  constructor (name: stri">
<meta property="og:type" content="article">
<meta property="og:title" content="类型定义文件(*.d.ts)">
<meta property="og:url" content="https://supertinypeanut.github.io/blog/2020/02/17/type-definition/index.html">
<meta property="og:site_name" content="Peanut">
<meta property="og:description" content="类型定义文件在 TypeScript 中，我们可以很简单的，在代码编写中定义类型： 12345678910interface IBaseModel &amp;#123;  say(keys: string[] | null): object&amp;#125;class User implements IBaseModel &amp;#123;  name: string  constructor (name: stri">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://supertinypeanut.github.io/blog/.io//2094b0e190bf5c66045488f3c2cab5e5.png">
<meta property="og:image" content="https://supertinypeanut.github.io/blog/.io//26a7416bf2b8b2eebb74a32d2015eed3.png">
<meta property="og:image" content="https://supertinypeanut.github.io/blog/.io//b53c668059b6fc2f87dda190536d04f6.png">
<meta property="article:published_time" content="2020-02-17T10:10:10.000Z">
<meta property="article:modified_time" content="2021-03-23T16:40:13.749Z">
<meta property="article:author" content="Super Peanut">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://supertinypeanut.github.io/blog/.io//2094b0e190bf5c66045488f3c2cab5e5.png">
  
    <link rel="alternate" href="/blog/atom.xml" title="Peanut" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Peanut</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://supertinypeanut.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-type-definition" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/02/17/type-definition/" class="article-date">
  <time datetime="2020-02-17T10:10:10.000Z" itemprop="datePublished">2020-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      类型定义文件(*.d.ts)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="类型定义文件"><a href="#类型定义文件" class="headerlink" title="类型定义文件"></a>类型定义文件</h2><p>在 TypeScript 中，我们可以很简单的，在代码编写中定义类型：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IBaseModel &#123;</span><br><span class="line">  say(keys: <span class="built_in">string</span>[] | <span class="literal">null</span>): object</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> User <span class="keyword">implements</span> IBaseModel &#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">  <span class="keyword">constructor</span> (<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是主流的库都是 JavaScript 编写的，TypeScript 身为 JavaScript 的超集，自然需要考虑到如何让 JS 库也能定义静态类型。</p>
<p>TypeScript 经过了一系列的摸索，先后提出了 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2Ftsd" target="_blank" rel="noopener">tsd</a>(已废弃)、<a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2Ftypings%2Ftypings" target="_blank" rel="noopener">typings</a>(已废弃)，最终在 TypeScript 2.0 的时候重新整理了类型定义，提出了 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a>。</p>
<p><a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a> 就是让你把 “类型定义文件(*.d.ts)”，发布到 <code>npm</code> 中，配合编辑器(或插件)，就能够检测到 JS 库中的静态类型。</p>
<p>类型定义文件的以 <code>.d.ts</code> 结尾，里面主要用来定义类型。</p>
<p>例如这是 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped%2Ftree%2Fmaster%2Ftypes%2Fjquery" target="_blank" rel="noopener">jQuery 的类型定义文件</a> 中一段代码（为了方便理解做了一些改动）</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义 jQuery 需要用到的类型命名空间</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> JQuery &#123;</span><br><span class="line">    <span class="comment">// 定义基本使用的类型</span></span><br><span class="line">    <span class="keyword">type</span> Selector = <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">type</span> TypeOrArray&lt;T&gt; = T | T[];</span><br><span class="line">    <span class="keyword">type</span> htmlString = <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义 jQuery 接口，jquery 是一个 包含 Element 的集合</span></span><br><span class="line"><span class="keyword">interface</span> JQuery&lt;TElement <span class="keyword">extends</span> Node = HTMLElement&gt; <span class="keyword">extends</span> Iterable&lt;TElement&gt; &#123;</span><br><span class="line">    length: <span class="built_in">number</span>;</span><br><span class="line">    eq(index: <span class="built_in">number</span>): <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重载</span></span><br><span class="line">    add(selector: JQuery.Selector, context: Element): <span class="keyword">this</span>;</span><br><span class="line">    add(selector: JQuery.Selector | JQuery.TypeOrArray&lt;Element&gt; | JQuery.htmlString | JQuery): <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    children(selector?: JQuery.Selector): <span class="keyword">this</span>;</span><br><span class="line">    css(propertyName: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">    html(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对模块 jquery 输出接口</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> 'jquery' &#123;</span><br><span class="line">    <span class="comment">// module 中要使用 export = 而不是 export default</span></span><br><span class="line">    <span class="keyword">export</span> = jQuery;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类型定义"><a href="#类型定义" class="headerlink" title="类型定义"></a>类型定义</h2><p><code>*.d.ts</code> 编写起来非常简单，经过 TypeScript 良好的静态类型系统洗礼过后，语法学习成本非常低。</p>
<p>我们可以使用 <code>type</code> 用来定义类型变量：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本类型</span></span><br><span class="line"><span class="keyword">type</span> UserName = <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型赋值</span></span><br><span class="line"><span class="keyword">type</span> WebSite = <span class="built_in">string</span></span><br><span class="line"><span class="keyword">type</span> Tsaid = WebSite</span><br></pre></td></tr></table></figure>

<p>可以看到 <code>type</code> 其实可以定义各种格式的类型，也可以和其他类型进行组合。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象</span></span><br><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  website: WebSite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line"><span class="keyword">type</span> say = <span class="function">(<span class="params">age: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类</span></span><br><span class="line"><span class="keyword">class</span> TaSaid &#123;</span><br><span class="line">  website: <span class="built_in">string</span>;</span><br><span class="line">  say: <span class="function">(<span class="params">age: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然，我们也可以使用 <code>interface</code> 定义我们的复杂类型，在 TS 中我们也可以直接定义 <code>interface</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Application &#123;</span><br><span class="line">    init(): <span class="built_in">void</span></span><br><span class="line">    <span class="keyword">get</span>(key: <span class="built_in">string</span>): object</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>interface</code> 和 <code>type</code>(或者说 <code>class</code>) 很像。</p>
<p>但是 <code>type</code> 的含义是定义自定义类型，当 TS 提供给你的基础类型都不满足的时候，可以使用 <code>type</code> 自由组合出你的新类型，而 <code>interface</code> 应该是对外输出的接口。</p>
<p><code>type</code> 不可以被继承，但 <code>interface</code> 可以：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> BaseApplication &#123;</span><br><span class="line">    appId: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Application <span class="keyword">extends</span> BaseApplication &#123;</span><br><span class="line">  init(): <span class="built_in">void</span></span><br><span class="line">    <span class="keyword">get</span>(key: <span class="built_in">string</span>): object</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="declare"><a href="#declare" class="headerlink" title="declare"></a>declare</h2><p><code>declare</code> 可以创建 <code>*.d.ts</code> 文件中的变量，<code>declare</code> 只能作用域最外层：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> foo: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">greeting: <span class="built_in">string</span></span>): <span class="title">void</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> tasaid &#123;</span><br><span class="line">  <span class="comment">// 这里不能 declare</span></span><br><span class="line">  <span class="keyword">interface</span> blog &#123;</span><br><span class="line">    website: <span class="string">'http://tasaid.com'</span></span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>基本上顶层的定义都需要使用 <code>declare</code>， <code>class</code> 也是：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> User &#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h2><p>为防止类型重复，使用 <code>namespace</code> 用于划分区域块，分离重复的类型，顶层的 <code>namespace</code> 需要 <code>declare</code> 输出到外部环境，子命名空间不需要 <code>declare</code>。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 命名空间</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> Models &#123;</span><br><span class="line">  <span class="keyword">type</span> A = <span class="built_in">number</span></span><br><span class="line">  <span class="comment">// 子命名空间</span></span><br><span class="line">  <span class="keyword">namespace</span> Config &#123;</span><br><span class="line">    <span class="keyword">type</span> A = object</span><br><span class="line">    <span class="keyword">type</span> B = <span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> C = Models.Config.A</span><br></pre></td></tr></table></figure>

<h2 id="组合定义"><a href="#组合定义" class="headerlink" title="组合定义"></a>组合定义</h2><p>上面我们只演示了一些简单的类型组合，生产环境中会包含许多复杂的类型定义，这时候我们就需要各种组合出强大的类型定义：</p>
<h3 id="动态属性"><a href="#动态属性" class="headerlink" title="动态属性"></a>动态属性</h3><p>有些类型的属性名是动态而未知的，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">'10086'</span>: &#123;</span><br><span class="line">    name: <span class="string">'中国移动'</span>,</span><br><span class="line">    website: <span class="string">'http://www.10086.cn'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'10010'</span>: &#123;</span><br><span class="line">    name: <span class="string">'中国联通'</span>,</span><br><span class="line">    website: <span class="string">'http://www.10010.com'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'10000'</span>: &#123;</span><br><span class="line">    name: <span class="string">'中国电信'</span>,</span><br><span class="line">    website: <span class="string">'http://www.189.cn'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以使用动态属性名来定义类型：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> ChinaMobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  website: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> ChinaMobileList &#123;</span><br><span class="line">  <span class="comment">// 动态属性</span></span><br><span class="line">  [phone: <span class="built_in">string</span>]: ChinaMobile</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型遍历"><a href="#类型遍历" class="headerlink" title="类型遍历"></a>类型遍历</h3><p>当你已知某个类型范围的时候，可以使用 <code>in</code> 和 <code>keyof</code> 来遍历类型，例如上面的 ChinaMobile 例子，我们可以使用 <code>in</code> 来约束属性名必须为三家运营商之一：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ChinaMobilePhones = <span class="string">'10086'</span> | <span class="string">'10010'</span> | <span class="string">'10000'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> ChinaMobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  website: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能 type 使用， interface 无法使用</span></span><br><span class="line"><span class="keyword">type</span> ChinaMobileList = &#123;</span><br><span class="line">  <span class="comment">// 遍历属性</span></span><br><span class="line">  [phone <span class="keyword">in</span> ChinaMobilePhones]: ChinaMobile</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们也可以用 <code>keyof</code> 来约定方法的参数</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> keys = &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  appId: <span class="built_in">number</span>;</span><br><span class="line">  config: object;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Application &#123;</span><br><span class="line">  <span class="comment">// 参数和值约束范围</span></span><br><span class="line">  <span class="keyword">set</span>&lt;T <span class="keyword">extends</span> keyof keys&gt;(key: T, val: keys[T])</span><br><span class="line">  <span class="keyword">get</span>&lt;T <span class="keyword">extends</span> keyof keys&gt;(key: T): keys[T]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/blog/.io//2094b0e190bf5c66045488f3c2cab5e5.png" alt="img"></p>
<h2 id="import-导入和-export-导出"><a href="#import-导入和-export-导出" class="headerlink" title="import 导入和 export 导出"></a>import 导入和 export 导出</h2><p>js 中有多种 <code>import</code> 和 <code>export</code>模块的方式，所以在 <code>d.ts</code> 中也对应有着不同的导入导出方式。</p>
<h3 id="导入规则"><a href="#导入规则" class="headerlink" title="导入规则"></a>导入规则</h3><p>在 ts 中不同的 <code>import</code> 语法会决定如何解析这个 module：</p>
<ul>
<li>有类型声明，标准 es module 库：<code>import * as xxxx from &#39;&#39;</code> 或 <code>import xxx from &#39;&#39;</code> 导入</li>
<li>有类型声明，标准 commonjs 库： <code>import xxx = require(&#39;&#39;)</code> 导入</li>
<li>没有类型声明：<code>const xxx = require(&#39;&#39;)</code> 导入（默认导入为 any 类型）</li>
</ul>
<p>同样，js 中不同的 <code>export</code> 语法也对应着不同的声明方式。</p>
<h3 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h3><p>如果 js 是 <code>es6 module</code> 风格的，通过 <code>export default</code> 导出的，经过编译工具编译为 <code>export.default</code> 以后(一般为 babel 或其他工具编译)，则声明文件这样写：</p>
<p>js 源文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译后</span></span><br><span class="line">exports.default = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>d.ts 声明文件：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导出接口声明</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Options &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明默认函数</span></span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span> (<span class="params">options: Options</span>): <span class="title">void</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 导出默认值</span></span><br><span class="line"><span class="function"><span class="title">export</span> <span class="title">default</span> <span class="title">main</span></span></span><br></pre></td></tr></table></figure>

<p>特点是这样引入(在 <code>tsconfig.json</code> 中没有开启 <code>allowSyntheticDefaultImports</code> 选项的情况下)：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入包</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> demo <span class="keyword">from</span> <span class="string">'demo'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Options &#125; <span class="keyword">from</span> <span class="string">'demo'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用默认方法</span></span><br><span class="line">demo(&#123; &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="module-exports"><a href="#module-exports" class="headerlink" title="module.exports"></a>module.exports</h3><p>如果 js 是 <code>commonjs</code> 风格的，是通过 <code>module.exports</code> 导出的，则声明文件这样写：</p>
<p>js 源文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>d.ts 声明文件：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 包的声明</span></span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span> (<span class="params">options: main.Options</span>): <span class="title">void</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 包里面的接口通过 <span class="title">namespace</span> 声明</span></span><br><span class="line"><span class="function"><span class="title">declare</span> <span class="title">namespace</span> <span class="title">main</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 导出接口声明</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> Options &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出包默认声明</span></span><br><span class="line"><span class="keyword">export</span> = main</span><br></pre></td></tr></table></figure>

<p>特点是这样引入：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入包</span></span><br><span class="line"><span class="keyword">import</span> demo = <span class="built_in">require</span>(<span class="string">'demo'</span>)</span><br><span class="line"><span class="comment">// 导入接口声明</span></span><br><span class="line"><span class="keyword">import</span> &#123; Options &#125; <span class="keyword">from</span> <span class="string">'demo'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用默认方法</span></span><br><span class="line">demo(&#123; &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="export-xxx"><a href="#export-xxx" class="headerlink" title="export xxx"></a>export xxx</h3><p>如果只是普通的 <code>exports xxx</code> ，经过编译工具编译为 <code>export.xxx</code> 之后，则声明文件相对简单：</p>
<p>js 源文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> func = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译为</span></span><br><span class="line">exports.func = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>d.ts 声明文件：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导出接口声明</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Options &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">declare</span> <span class="keyword">const</span> func: <span class="function">(<span class="params">options: Options</span>) =&gt;</span> <span class="built_in">void</span></span><br></pre></td></tr></table></figure>

<p>引入方式：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入接口声明</span></span><br><span class="line"><span class="keyword">import</span> &#123; Options, func &#125; <span class="keyword">from</span> <span class="string">'demo'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line">func(&#123; &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="集成发布"><a href="#集成发布" class="headerlink" title="集成发布"></a>集成发布</h2><p>有两种主要方式用来发布类型定义文件到 <code>npm</code>：</p>
<ol>
<li>与你的 npm 包捆绑在一起(内置类型定义文件)</li>
<li>发布到 npm 上的 <a href="https://tasaid.com/link?url=https%3A%2F%2Fwww.npmjs.com%2F~types" target="_blank" rel="noopener">@types organization</a></li>
</ol>
<p>前者，安装完了包之后会自动检测并识别类型定义文件。 后者，则需要通过 <code>npm i @types/xxxx</code> 安装，这就是我们前面所说的 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a> ，用于扩展 JS 库的类型声明。</p>
<h3 id="内置类型定义文件"><a href="#内置类型定义文件" class="headerlink" title="内置类型定义文件"></a>内置类型定义文件</h3><p>内置类型定义就是把你的类型定义文件和 npm 包一起发布，一般来说，类型定义文件都放在包根目录的 <code>types</code> 目录里，例如 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue%2Ftree%2Fv2.5.2%2Ftypes" target="_blank" rel="noopener">vue</a>：</p>
<p>如果你的包有一个主 <code>.js</code> 文件，需要在 <code>package.json</code> 里指定主类型定义文件。</p>
<p>设置 <code>types</code> 或 <code>typeings</code> 属性指向捆绑在一起的类型定义文件。 例如包目录如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">├── lib</span><br><span class="line">│   ├── main.js</span><br><span class="line">│   └── main.d.ts <span class="comment"># 类型定义文件</span></span><br><span class="line">└── package.json</span><br><span class="line">// pageage.json</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"demo"</span>,</span><br><span class="line">    <span class="string">"author"</span>: <span class="string">"demo project"</span>,</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">    <span class="string">"main"</span>: <span class="string">"./lib/main.js"</span>,</span><br><span class="line">    // 定义主类型定义文件</span><br><span class="line">    <span class="string">"types"</span>: <span class="string">"./lib/main.d.ts"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果主类型定义文件名是 <code>index.d.ts</code> 并且位置在包的根目录里，就不需要使用 <code>types</code> 属性指定了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├── lib</span><br><span class="line">│   └── main.js</span><br><span class="line">├── index.d.ts <span class="comment"># 类型定义文件</span></span><br><span class="line">└── package.json</span><br></pre></td></tr></table></figure>

<p>如果你发的包中，<code>package.json</code> 中使用了 <code>files</code> 字段的话（<code>npm</code> 会根据 <code>files</code> 配置的规则决定发布哪些文件），则需要手动把类型定义文件加入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pageage.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"files"</span>: [</span><br><span class="line">    <span class="string">"index.js"</span>,</span><br><span class="line">    <span class="string">"*.d.ts"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果只发二级目录的话，把类型定义文件放到对应的二级目录下即可：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> App &#125; <span class="keyword">from</span> <span class="string">'demo/app'</span></span><br></pre></td></tr></table></figure>

<h3 id="发布到-types-organizatio"><a href="#发布到-types-organizatio" class="headerlink" title="发布到 @types organizatio"></a>发布到 @types organizatio</h3><p>发布到 <code>@types organizatio</code> 的包表示源包没有包含类型定义文件，第三方/或原作者定义好类型定义文件之后，发布到 <a href="https://tasaid.com/link?url=https%3A%2F%2Fwww.npmjs.com%2F~types" target="_blank" rel="noopener">@types</a> 中。例如 <a href="https://tasaid.com/link?url=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40types%2Fexpress" target="_blank" rel="noopener">@types/express</a>。</p>
<p>根据 <code>DefinitelyTyped</code> 的规则，和编辑器(和插件) 自动检测静态类型。</p>
<p><a href="https://tasaid.com/link?url=https%3A%2F%2Fwww.npmjs.com%2F~types" target="_blank" rel="noopener">@types</a> 下面的包是从 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a> 里自动发布的，通过 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FMicrosoft%2Ftypes-publisher" target="_blank" rel="noopener">types-publisher</a> 工具。</p>
<p>如果想让你的包发布为 @types 包，需要提交一个 pull request 到 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">https://github.com/DefinitelyTyped/DefinitelyTyped</a>。</p>
<p>在这里查看详细信息 <a href="https://tasaid.com/link?url=http%3A%2F%2Fdefinitelytyped.org%2Fguides%2Fcontributing.html" target="_blank" rel="noopener">contribution guidelines page</a>。</p>
<p>如果你正在使用 TypeScript，而使用了一些 JS 包并没有对应的类型定义文件，可以编写一份然后提交到 <code>@types</code>。</p>
<p>赠人玫瑰，手留余香。</p>
<p>发布到 <code>@types organizatio</code> 的包可以通过 <a href="https://tasaid.com/link?url=https%3A%2F%2Fmicrosoft.github.io%2FTypeSearch%2F" target="_blank" rel="noopener">TypeSearch</a> 搜索检索，使用 <code>npm install --save-dev @types/xxxx</code> 安装：</p>
<p><img src="/blog/.io//26a7416bf2b8b2eebb74a32d2015eed3.png" alt="img"></p>
<p>更多细节请参阅 <a href="https://tasaid.com/link?url=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a>。</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="为第三方包声明类型"><a href="#为第三方包声明类型" class="headerlink" title="为第三方包声明类型"></a>为第三方包声明类型</h3><p>通常来说，如果这份类型定义文件是 JS 库自带的，那么我们可以直接导出模块：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> = User</span><br></pre></td></tr></table></figure>

<p>而如果这份类型定义文件不是 JS 库自带的，而是第三方的，则需要使用 <code>module</code> 进行关联。</p>
<p>例如 <code>jquery</code> 发布的 npm 包中不包含 <code>*.d.ts</code> 类型定义文件，<code>jquery</code> 的类型定义文件发布在了 <code>@types/jquery</code>，所以类型定义文件中导出类型的时候，需要关联模块 <code>jquery</code>，意思就是我专门针对这个包做的类型定义：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> jQuery &#123;&#125;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> 'jquery' &#123;</span><br><span class="line">    <span class="comment">// 因为 jquery 使用的是 commonjs module，所以需要用 export 导出</span></span><br><span class="line">    <span class="comment">// es6 module 可以使用 export default 导出</span></span><br><span class="line">    <span class="keyword">export</span> = jQuery;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从而解决了一些主流的 JS 库发布的 <code>npm</code> 包中没有类型定义文件，但是我们可以用第三方类型定义文件为这些库补充类型。</p>
<h3 id="风格"><a href="#风格" class="headerlink" title="风格"></a>风格</h3><p>经过一系列探索，个人比较推荐下面的编写风格，先看目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">types</span><br><span class="line">├── application.d.ts</span><br><span class="line">├── config.d.ts</span><br><span class="line">├── index.d.ts <span class="comment"># 入口模块</span></span><br><span class="line">└── user.d.ts</span><br></pre></td></tr></table></figure>

<p><img src="/blog/.io//b53c668059b6fc2f87dda190536d04f6.png" alt="img"></p>
<p>入口模块主要做这些事情：</p>
<ol>
<li>定义命名空间</li>
<li>导出和聚合子模块</li>
</ol>
<p>主出口文件 <code>index.d.ts</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> UserModel <span class="keyword">from</span> <span class="string">'./user'</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> AppModel <span class="keyword">from</span> <span class="string">'./application'</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> ConfigModel <span class="keyword">from</span> <span class="string">'./config'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> Models &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">type</span> User = UserModel.User;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">type</span> Application = AppModel.Application;</span><br><span class="line">  <span class="comment">// 利用 as 抹平争议性变量名</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">type</span> Config = ConfigModel.Config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>子模块无需定义命名空间，这样外部环境 (<code>types</code> 文件夹之外) 则无法获取子模块类型，达到了类型封闭的效果：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://supertinypeanut.github.io/blog/2020/02/17/type-definition/" data-id="ckmm8va72001v85qsc1872dch" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2020/02/17/%E5%B8%B8%E7%94%A8%E7%9A%84JS%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7(I)/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          常用的JS开发技巧(I)
        
      </div>
    </a>
  
  
    <a href="/blog/2020/02/12/vue-class-component/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">了解vue-class-component</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ECMAScript-6/" rel="tag">ECMAScript 6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Lint/" rel="tag">Lint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Webpack/" rel="tag">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/web-%E5%AE%89%E5%85%A8/" rel="tag">web 安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" rel="tag">前端工程化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" rel="tag">问题解决</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/ECMAScript-6/" style="font-size: 12.5px;">ECMAScript 6</a> <a href="/blog/tags/Git/" style="font-size: 15px;">Git</a> <a href="/blog/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/blog/tags/Lint/" style="font-size: 10px;">Lint</a> <a href="/blog/tags/React/" style="font-size: 12.5px;">React</a> <a href="/blog/tags/TypeScript/" style="font-size: 12.5px;">TypeScript</a> <a href="/blog/tags/Vue/" style="font-size: 17.5px;">Vue</a> <a href="/blog/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/blog/tags/npm/" style="font-size: 10px;">npm</a> <a href="/blog/tags/web-%E5%AE%89%E5%85%A8/" style="font-size: 15px;">web 安全</a> <a href="/blog/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 12.5px;">前端工程化</a> <a href="/blog/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" style="font-size: 15px;">问题解决</a> <a href="/blog/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 12.5px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">十一月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2021/03/23/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2/">持续集成与持续部署</a>
          </li>
        
          <li>
            <a href="/blog/2021/03/07/Promise%E5%AE%9E%E7%8E%B0/">Promise实现</a>
          </li>
        
          <li>
            <a href="/blog/2021/03/03/ES6%E9%9D%A2%E8%AF%95%E9%A2%98/">ES6面试题</a>
          </li>
        
          <li>
            <a href="/blog/2021/01/25/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">自动化测试</a>
          </li>
        
          <li>
            <a href="/blog/2020/12/27/async-validator%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">async-validator基本使用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Super Peanut<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>




  </div>
</body>
</html>